<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>raw timer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>        
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
    <!-- <script src="main.js"></script> -->
</head>

<style>
    .card {
        align-content: center;
    }
    p,
    #time,
    #timer, 
    #timer-display,
    #timer-button {
        text-align: center;
        align-content: center;
        font-size: 60px;
        margin-top: 0px;
    }
    .button {
        background-color:green;
        align-content: center;
        font-size: 60px;
    }
</style>
<body>
    <div class="container">
        <div class ="row">
            <div class ="col-12">
                <div class="w3-panel-body">
                    <div class ="w3-panel">       
                        <h2 id="title">CPR Trivia</h2>
                            <p></p>
                            <p id ="timerDisplay"><span id="timer-display"></span></p> 
                    </div>        
                </div>
                    <div>
                        <button id="timer-button" type ="submit">Go</button>
                    </div>
            </div>
        <div class ="row">
            <div class ="col-12">
                <div class ="w3-card-body"> 
                    <div class ="w3-card w3-yellow">
                        <p id ="trivia-card"></p>
                        <button for id="trivia-question" type="submit">Submit Response</button>
                    </div>            
                </div>
            </div>
        </div>
    </div>  
</div>
<script>

    const triviaCard =document.getElementById('trivia-card')
    const tButton = document.getElementById("timer-button");
    const timerDisplay = document.getElementById("timer-display");
    const tToken = 37;
    let time = 0;
    let intervalID;
    let countDown = false;    
    const triviaTest =[
    {
    question: "The sternum (breastbone) is composed of three parts:",
    answers: {
        a: "Manubrium, Body, Xiphoid process",
        b: "Manure, Bats, Xylophone",
        c: "Mandible, Maxilla, Zygomatic bones"
    },
    correctAnswer: "a: Manubrium, Body, Xiphoid process",
    reward: "What is the correct hand placement for CPR?"
    },
    {
    question: "CPR Stands for:",
    answers: {
        a: "Can't Pee Right",
        b: "Cardiopulmonary Regeneration",
        c: "Cardiopulmonary Resuscitation"
    },
    correctAnswer: "c: Cardiopulmonary Resuscitation",
    reward: "What is the Importance of CPR?"

    },
    {
    question: "What is the recommended rate of CPR compressions for an adult victim?",
    answers: {
        a: "200-300 per minute",
        b: "100 to 120 per minute",
        c: "500-1000 per minute",
    },
    correctAnswer: " b: 100 to 120 per minute",
    reward: "What are the 7 steps of CPR?"
    },
];


// Start here once a click has been detected and call the goInit function:  
// tButton.addEventListener("click", goInit);
            tButton.onclick = goInit = () => {
                startTimer(tToken, timerDisplay);
                timerDisplay.innerHTML = `Time remaining: ${time} minutes!`
                console.log(time);
            }

            startTimer =(duration, timerDisplay) => {
                if (!countDown) {
                    countDown = "true";
                              
                    let timer = duration, minutes, seconds;
                    intervalId = setInterval( () => {
                    minutes = parseInt(timer / 60, 10)
                    seconds = parseInt(timer % 60, 10);
                    
                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;
                    
                    timerDisplay.textContent = minutes + ":" + seconds;
                    console.log(intervalId);
                    // console.log(timerDisplay);

                    if (--timer < 0) {
                        timer = duration;
                        clearInterval(intervalId);
                        stopTimer;
                    }
                }, 1000);   
            }
        }
        let stopTimer = () => {
            clearInterval(intervalId);
            countDown = !countDown;
        };  
    </script>
</body>
</div>
</html>


