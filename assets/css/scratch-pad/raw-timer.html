<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>raw timer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>        
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
    <!-- <script src="main.js"></script> -->
</head>

<style>
    .card {
        align-content: center;
    }
    p,
    #demo,
    #time,
    #timer, 
    #timer-display,
    #timer-button {
        text-align: center;
        align-content: center;
        font-size: 60px;
        margin-top: 0px;
    }
    .button {
        background-color:green;
        align-content: center;
        font-size: 60px;
    }
</style>
<body>
<div class="container">
    <div class ="row">
        <div class ="col-12">
            <div class="w3-panel-body">
                <div class ="w3-panel">       
                    <h2 class="w3-panel-title">A COUNTDOWN TIMER SOLUTION:</h2>
                    <p></p>
                    <p id ="timer-display"><span id="timer-display"></span></p> 
                </div>        
            </div>
                <div>
                        <button for id="w3-timer-button" type ="submit">Go</button>
                </div>
        </div>
            <div class ="row">
                <div class ="col-12">
                    <div class ="w3-card-body"> 
                        <div class ="w3-card w3-yellow">
                            <p id ="test-card"></p>
                                <button for id="w3test-question" type="submit">Submit Response</button>
                        </div>            
                    </div>
                </div>
            </div>
        </div>  
    </div>
</div>
<script>

    const timerButton = document.getElementById("timer-button");
    const timerDisplay = document.getElementById("timer-display");
    const startTimer = document.getElementById("timer-button");
    const tToken = .2;
    const testCard =document.getElementById('testObjectArray')
    let time = "00:00";
    let intervalID;
testObjectArray =[
    {
    question: "The sternum (breastbone) is composed of three parts:",
    answers: {
        a: "Manubrium, Body, Xiphoid process",
        b: "Manure, Bats, Xylophone",
        c: "Mandible, Maxilla, Zygomatic bones"
    },
    correctAnswer: "a: Manubrium, Body, Xiphoid process",
    reward: "What is the correct hand placement for CPR?"
    },
    {
    question: "CPR Stands for:",
    answers: {
        a: "Can't Pee Right",
        b: "Cardiopulmonary Regeneration",
        c: "Cardiopulmonary Resuscitation"
    },
    correctAnswer: "c: Cardiopulmonary Resuscitation",
    reward: "What is the Importance of CPR?"

    },
    {
    question: "What is the recommended rate of CPR compressions for an adult victim?",
    answers: {
        a: "200-300 per minute",
        b: "100 to 120 per minute",
        c: "500-1000 per minute",
    },
    correctAnswer: " b: 100 to 120 per minute",
    reward: "What are the 7 steps of CPR?"
    },
];


/* 
Thanks to Karina I found a good description of modulo/modulus, which is the “%” symbol here 
@ https://en.m.wikipedia.org/wiki/Modulo_operation  What is happening is the timer takes the 
total time (let’s say 100 seconds) and it assigns minutes by dividing 100 by 60.  It finds 
seconds similarly using the modulus. 60 goes into 100 exactly 1 time and leaves a remainder 
of 40 and this would used to calculate the seconds. (edited)
Plan:
Code the triva test: 
1) Switch() Case: Default: logic 
3) Locate anatomy images API 
2) Construct Ajax calls using jQuery  
*/

// Start here once a click has been detected and call the goInit function: 
startTimer.addEventListener("click", goInit);
            goInit = () => {
                timerDisplay.innerHTML = `Time remaining: ${parseInt(time)} minutes!`;
                startTimer(tToken, timerDisplay);
            }
                // zeroMinutes =(minute,b) => {
                // 60 * tToken,
                // timerDisplay = document.querySelector('#time');


            startTimer =(duration, timerDisplay) => {
                    let timer = duration, minutes, seconds;
                    intervalID = setInterval( () => {
                    minutes = parseInt(timer / 60, 10)
                    seconds = parseInt(timer % 60, 10);
                    
                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;
                    
                    // timerDisplay.textContent = minutes + ":" + seconds;
                    `
                    timerDisplay.textContent = Time remaining: ${minutes}:${seconds};
                    `
                    console.log(intervalId);
                    console.log(timerDisplay);

                    if (--timer < 0) {
                        timer = duration;
                    }
                }, 1000);   
            }

                </script>
    </body>
</div>
</html>


